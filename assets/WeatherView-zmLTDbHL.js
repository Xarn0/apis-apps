import{d as v,r as d,w,c as s,a,b as i,e as p,t as l,f,v as m,o as r,_ as y}from"./index-Bick_ykE.js";const k={class:"weather weather__container"},x={class:"weather__container-title"},V={class:"weather__container-city"},E=["src"],g={key:1},C={class:"weather__container-temp"},N={key:2},T={key:3},$={class:"weather__inputs"},b="49fbcce031394faa8ce141711251802",B=v({__name:"WeatherView",setup(j){const n=d("–ú–æ—Å–∫–≤–∞"),u=d(!1),t=d(null),_=async()=>{try{u.value=!0;const c=`https://api.weatherapi.com/v1/current.json?key=${b}&q=${n.value}&lang=ru`,e=await fetch(c);if(!e.ok)throw new Error(`–û—à–∏–±–∫–∞ ${e.status}: ${e.statusText}`);const o=await e.json();if(!o.current)throw new Error("API –Ω–µ –≤–µ—Ä–Ω—É–ª–æ `current`");t.value={temp_c:o.current.temp_c,city:o.location.name,condition:{text:o.current.condition.text,icon:o.current.condition.icon}}}catch(c){console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –ø–æ–≥–æ–¥—ã:",c)}finally{u.value=!1}};return w(n,()=>{_()}),_(),(c,e)=>{var o;return r(),s("div",k,[a("h2",x,[e[1]||(e[1]=p(" –ü–æ–≥–æ–¥–∞ –≤ ")),a("span",V,l((o=t.value)==null?void 0:o.city),1)]),t.value?(r(),s("img",{key:0,src:t.value.condition.icon,alt:"–ò–∫–æ–Ω–∫–∞ –ø–æ–≥–æ–¥—ã"},null,8,E)):i("",!0),t.value?(r(),s("p",g,[e[2]||(e[2]=p(" üå° –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞:")),a("span",C,l(t.value.temp_c)+"¬∞C",1)])):i("",!0),t.value?(r(),s("p",N,"üå§ –û–ø–∏—Å–∞–Ω–∏–µ: "+l(t.value.condition.text),1)):i("",!0),u.value?(r(),s("p",T,"–ó–∞–≥—Ä—É–∂–∞—é –¥–∞–Ω–Ω—ã–µ...")):i("",!0),a("div",$,[f(a("input",{"onUpdate:modelValue":e[0]||(e[0]=h=>n.value=h),placeholder:"–í–≤–µ–¥–∏—Ç–µ –≥–æ—Ä–æ–¥"},null,512),[[m,n.value]]),a("button",{onClick:_},"–û–±–Ω–æ–≤–∏—Ç—å")]),a("p",null,"–¢–µ–∫—É—â–∏–π –≥–æ—Ä–æ–¥: "+l(n.value),1)])}}}),I=y(B,[["__scopeId","data-v-08f8765e"]]);export{I as default};
